{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseURL = 'https://pixabay.com/api/';\n\nexport function makeFetchRequest(userRequest) {\n  const BASE_URL = 'https://pixabay.com';\n  const END_POINT = '/api/';\n\n  const params = new URLSearchParams({\n    key: '44734756-d98c11aebccc1bae684f0851d',\n    q: userRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: false,\n  });\n\n  const URL = `${BASE_URL}${END_POINT}?${params}`;\n\n  return fetch(URL).then(response => {\n    if (!response.ok) {\n      throw new Error(response.status);\n    }\n    return response.json();\n  });\n}\n\nexport function makeAxios(userRequest) {\n  const params = new URLSearchParams({\n    key: '44734756-d98c11aebccc1bae684f0851d',\n    q: userRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: false,\n  });\n\n  return axios.get(baseURL, { params });\n}\n","// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n\nexport function makeMarkupItem(obj) {\n  const {\n    comments,\n    downloads,\n    largeImageURL,\n    likes,\n    tags,\n    views,\n    webformatURL,\n  } = obj;\n\n  return `<li class=\"list__card\">\n  <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <ul>\n        <li class=\"list__card-headers\">\n          <h3>Likes</h3>\n          <h4>${likes}</h4>\n        </li>\n        <li class=\"list__card-headers\">\n          <h3>Views</h3>\n          <h4>${views}</h4>\n        </li>\n        <li class=\"list__card-headers\">\n          <h3>Comments</h3>\n          <h4>${comments}</h4>\n        </li>\n        <li class=\"list__card-headers\">\n          <h3>Downloads</h3>\n          <h4>${downloads}</h4>\n        </li>\n      </ul>\n      </li>`;\n}\n\nexport function makeMarkupItemS(arr) {\n  return arr.map(makeMarkupItem).join('');\n}\n\n// export function someM(arr) {\n//   return arr\n//     .map(\n//       ({\n//         comments,\n//         downloads,\n//         largeImageURL,\n//         likes,\n//         tags,\n//         views,\n//         webformatURL,\n//       }) => `<li>\n//             <picture>\n//               <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n//             </picture>\n//             <ul>\n//               <li>\n//                 <p>Likes</p>\n//                 <p>${likes}</p>\n//               </li>\n//               <li>\n//                 <p>Views</p>\n//                 <p>${views}</p>\n//               </li>\n//               <li>\n//                 <p>Comments</p>\n//                 <p>${comments}</p>\n//               </li>\n//               <li>\n//                 <p>Downloads</p>\n//                 <p>${downloads}</p>\n//               </li>\n//             </ul>\n//           </li>\n//         `\n//     )\n//     .join('');\n// }\n\nexport function preLoader() {\n  return `<ul class=\"pre-loader\"><li class=\"loader\"></li></ul>`;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { makeFetchRequest, makeAxios } from './js/pixabay-api';\n\nimport * as renderFunc from './js/render-functions';\n\n//????????????????\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 350,\n});\n\nconst refsEl = {\n  form: document.querySelector('.js-form'),\n  list: document.querySelector('.js-list'),\n};\n\nrefsEl.form.addEventListener('submit', handlerForm);\n\nfunction handlerForm(event) {\n  event.preventDefault();\n\n  const thisCurrentForm = event.currentTarget;\n\n  const { query } = thisCurrentForm.elements;\n\n  const normalizeInputValue = query.value.trim().toLowerCase();\n\n  if (!normalizeInputValue) {\n    return;\n  }\n\n  const preLoader = renderFunc.preLoader();\n  refsEl.list.innerHTML = preLoader;\n\n  //   makeFetchRequest(normalizeInputValue)\n  //     .then(data => {\n  //       if (!data.hits.length) {\n  //         iziToast.error({\n  //           theme: 'dark',\n  //           message:\n  //             'Sorry, there are no images matching your search query. Please try again!',\n  //           messageColor: '#fafafb',\n  //           messageSize: '16',\n  //           messageLineHeight: '1,5',\n  //           backgroundColor: '#ef4040',\n  //           maxWidth: '370',\n  //           position: 'topRight',\n  //           progressBarColor: '#B51B1B',\n  //         });\n\n  //         refsEl.list.innerHTML = '';\n  //         return;\n  //       }\n\n  //       const markup = renderFunc.makeMarkupItemS(data.hits);\n  //       refsEl.list.innerHTML = markup;\n  //     })\n  //     .catch(console.log)\n  //     .finally(() => {\n  //       thisCurrentForm.reset();\n\n  //       lightbox.refresh();\n  //     });\n\n  makeAxios(normalizeInputValue)\n    .then(response => {\n      console.log(response.data);\n      console.log(response.status);\n      console.log(response.statusText);\n      console.log(response.headers);\n      console.log(response.config);\n\n      if (!response.data.hits.length) {\n        iziToast.error({\n          theme: 'dark',\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          messageColor: '#fafafb',\n          messageSize: '16',\n          messageLineHeight: '1,5',\n          backgroundColor: '#ef4040',\n          maxWidth: '370',\n          position: 'topRight',\n          progressBarColor: '#B51B1B',\n        });\n\n        refsEl.list.innerHTML = '';\n        return;\n      }\n\n      const markup = renderFunc.makeMarkupItemS(response.data.hits);\n      refsEl.list.innerHTML = markup;\n    })\n    .catch(error => {\n      console.log(error);\n    })\n    .finally(() => {\n      thisCurrentForm.reset();\n\n      lightbox.refresh();\n    });\n}\n"],"names":["baseURL","makeAxios","userRequest","params","axios","makeMarkupItem","obj","comments","downloads","largeImageURL","likes","tags","views","webformatURL","makeMarkupItemS","arr","preLoader","lightbox","SimpleLightbox","refsEl","handlerForm","event","thisCurrentForm","query","normalizeInputValue","renderFunc.preLoader","response","iziToast","markup","renderFunc.makeMarkupItemS","error"],"mappings":"owBAEA,MAAMA,EAAU,2BAwBT,SAASC,EAAUC,EAAa,CACrC,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAOE,EAAM,IAAIJ,EAAS,CAAE,OAAAG,CAAQ,CAAA,CACtC,CC5BO,SAASE,EAAeC,EAAK,CAClC,KAAM,CACJ,SAAAC,EACA,UAAAC,EACA,cAAAC,EACA,MAAAC,EACA,KAAAC,EACA,MAAAC,EACA,aAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA,aACIG,CAAa,eAAeI,CAAY,UAAUF,CAAI;AAAA;AAAA;AAAA;AAAA,gBAInDD,CAAK;AAAA;AAAA;AAAA;AAAA,gBAILE,CAAK;AAAA;AAAA;AAAA;AAAA,gBAILL,CAAQ;AAAA;AAAA;AAAA;AAAA,gBAIRC,CAAS;AAAA;AAAA;AAAA,YAIzB,CAEO,SAASM,EAAgBC,EAAK,CACnC,OAAOA,EAAI,IAAIV,CAAc,EAAE,KAAK,EAAE,CACxC,CAyCO,SAASW,GAAY,CAC1B,MAAO,sDACT,CCtEAZ,EAAM,SAAS,QAAU,2BAEzB,MAAMa,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAS,CACb,KAAM,SAAS,cAAc,UAAU,EACvC,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAO,KAAK,iBAAiB,SAAUC,CAAW,EAElD,SAASA,EAAYC,EAAO,CAC1BA,EAAM,eAAc,EAEpB,MAAMC,EAAkBD,EAAM,cAExB,CAAE,MAAAE,CAAK,EAAKD,EAAgB,SAE5BE,EAAsBD,EAAM,MAAM,KAAM,EAAC,YAAW,EAE1D,GAAI,CAACC,EACH,OAGF,MAAMR,EAAYS,IAClBN,EAAO,KAAK,UAAYH,EAgCxBf,EAAUuB,CAAmB,EAC1B,KAAKE,GAAY,CAOhB,GANA,QAAQ,IAAIA,EAAS,IAAI,EACzB,QAAQ,IAAIA,EAAS,MAAM,EAC3B,QAAQ,IAAIA,EAAS,UAAU,EAC/B,QAAQ,IAAIA,EAAS,OAAO,EAC5B,QAAQ,IAAIA,EAAS,MAAM,EAEvB,CAACA,EAAS,KAAK,KAAK,OAAQ,CAC9BC,EAAS,MAAM,CACb,MAAO,OACP,QACE,2EACF,aAAc,UACd,YAAa,KACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,MACV,SAAU,WACV,iBAAkB,SAC5B,CAAS,EAEDR,EAAO,KAAK,UAAY,GACxB,MACD,CAED,MAAMS,EAASC,EAA2BH,EAAS,KAAK,IAAI,EAC5DP,EAAO,KAAK,UAAYS,CAC9B,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,IAAIA,CAAK,CACvB,CAAK,EACA,QAAQ,IAAM,CACbR,EAAgB,MAAK,EAErBL,EAAS,QAAO,CACtB,CAAK,CACL"}