{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst baseURL = 'https://pixabay.com/api/';\n\nexport async function makeAxios(userRequest, page, per_page) {\n  const params = new URLSearchParams({\n    key: '44734756-d98c11aebccc1bae684f0851d',\n    q: userRequest,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: false,\n    page: page,\n    per_page: per_page,\n  });\n\n  return await axios.get(baseURL, { params });\n}\n","// webformatURL — посилання на маленьке зображення для списку карток у галереї\n// largeImageURL — посилання на велике зображення для модального вікна\n// tags — рядок з описом зображення. Підійде для атрибута alt\n// likes — кількість вподобайок\n// views — кількість переглядів\n// comments — кількість коментарів\n// downloads — кількість завантажень\n\nexport function makeMarkupItem(obj) {\n  const {\n    comments,\n    downloads,\n    largeImageURL,\n    likes,\n    tags,\n    views,\n    webformatURL,\n  } = obj;\n\n  return `<li class=\"list__card\">\n  <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\"></a>\n      <ul>\n        <li class=\"list__card-headers\">\n          <h3>Likes</h3>\n          <h4>${likes}</h4>\n        </li>\n        <li class=\"list__card-headers\">\n          <h3>Views</h3>\n          <h4>${views}</h4>\n        </li>\n        <li class=\"list__card-headers\">\n          <h3>Comments</h3>\n          <h4>${comments}</h4>\n        </li>\n        <li class=\"list__card-headers\">\n          <h3>Downloads</h3>\n          <h4>${downloads}</h4>\n        </li>\n      </ul>\n      </li>`;\n}\n\nexport function makeMarkupItemS(arr) {\n  return arr.map(makeMarkupItem).join('');\n}\n\n// export function someM(arr) {\n//   return arr\n//     .map(\n//       ({\n//         comments,\n//         downloads,\n//         largeImageURL,\n//         likes,\n//         tags,\n//         views,\n//         webformatURL,\n//       }) => `<li>\n//             <picture>\n//               <a href=\"${largeImageURL}\"><img src=\"${webformatURL}\" alt=\"${tags}\" /></a>\n//             </picture>\n//             <ul>\n//               <li>\n//                 <p>Likes</p>\n//                 <p>${likes}</p>\n//               </li>\n//               <li>\n//                 <p>Views</p>\n//                 <p>${views}</p>\n//               </li>\n//               <li>\n//                 <p>Comments</p>\n//                 <p>${comments}</p>\n//               </li>\n//               <li>\n//                 <p>Downloads</p>\n//                 <p>${downloads}</p>\n//               </li>\n//             </ul>\n//           </li>\n//         `\n//     )\n//     .join('');\n// }\n\nexport function preLoader() {\n  return `<ul class=\"pre-loader\"><li class=\"loader\"></li></ul>`;\n}\n","// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\n// Описаний у документації\nimport SimpleLightbox from 'simplelightbox';\n// Додатковий імпорт стилів\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { makeAxios } from './js/pixabay-api';\n\nimport * as renderFunc from './js/render-functions';\n\n//!!!!!!!\nimport axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api/';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 350,\n});\n\n//?/\n/////////////////////\n\nlet page = 1;\nconst per_page = 5;\nlet request = '';\n\nconst refsEl = {\n  form: document.querySelector('.js-form'),\n  list: document.querySelector('.js-list'),\n};\n\nrefsEl.form.addEventListener('submit', handlerForm);\n\nasync function handlerForm(event) {\n  event.preventDefault();\n\n  const thisCurrentForm = event.currentTarget;\n\n  const { query } = thisCurrentForm.elements;\n\n  const normalizeInputValue = query.value.trim().toLowerCase();\n\n  request = normalizeInputValue;\n  if (!request) {\n    return;\n  }\n\n  const preLoader = renderFunc.preLoader();\n  refsEl.list.innerHTML = preLoader;\n\n  try {\n    page = 1;\n    const response = await makeAxios(request, page, per_page);\n\n    if (!response.data.hits.length) {\n      iziToast.error({\n        theme: 'dark',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#fafafb',\n        messageSize: '16',\n        messageLineHeight: '1,5',\n        backgroundColor: '#ef4040',\n        maxWidth: '370',\n        position: 'topRight',\n        progressBarColor: '#B51B1B',\n      });\n\n      refsEl.list.innerHTML = '';\n      return;\n    }\n\n    const markup = renderFunc.makeMarkupItemS(response.data.hits);\n    refsEl.list.innerHTML = markup;\n  } catch {\n    console.log(error);\n  } finally {\n    thisCurrentForm.reset();\n    lightbox.refresh();\n  }\n}\n"],"names":["baseURL","makeAxios","userRequest","page","per_page","params","axios","makeMarkupItem","obj","comments","downloads","largeImageURL","likes","tags","views","webformatURL","makeMarkupItemS","arr","preLoader","lightbox","SimpleLightbox","request","refsEl","handlerForm","event","thisCurrentForm","query","renderFunc.preLoader","response","iziToast","markup","renderFunc.makeMarkupItemS"],"mappings":"owBAEA,MAAMA,EAAU,2BAET,eAAeC,EAAUC,EAAaC,EAAMC,EAAU,CAC3D,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,KAAMC,EACN,SAAUC,CACd,CAAG,EAED,OAAO,MAAME,EAAM,IAAIN,EAAS,CAAE,OAAAK,CAAQ,CAAA,CAC5C,CCRO,SAASE,EAAeC,EAAK,CAClC,KAAM,CACJ,SAAAC,EACA,UAAAC,EACA,cAAAC,EACA,MAAAC,EACA,KAAAC,EACA,MAAAC,EACA,aAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA,aACIG,CAAa,eAAeI,CAAY,UAAUF,CAAI;AAAA;AAAA;AAAA;AAAA,gBAInDD,CAAK;AAAA;AAAA;AAAA;AAAA,gBAILE,CAAK;AAAA;AAAA;AAAA;AAAA,gBAILL,CAAQ;AAAA;AAAA;AAAA;AAAA,gBAIRC,CAAS;AAAA;AAAA;AAAA,YAIzB,CAEO,SAASM,EAAgBC,EAAK,CACnC,OAAOA,EAAI,IAAIV,CAAc,EAAE,KAAK,EAAE,CACxC,CAyCO,SAASW,GAAY,CAC1B,MAAO,sDACT,CCtEAZ,EAAM,SAAS,QAAU,2BAEzB,MAAMa,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAKD,IAAIjB,EAAO,EACX,MAAMC,EAAW,EACjB,IAAIiB,EAAU,GAEd,MAAMC,EAAS,CACb,KAAM,SAAS,cAAc,UAAU,EACvC,KAAM,SAAS,cAAc,UAAU,CACzC,EAEAA,EAAO,KAAK,iBAAiB,SAAUC,CAAW,EAElD,eAAeA,EAAYC,EAAO,CAChCA,EAAM,eAAc,EAEpB,MAAMC,EAAkBD,EAAM,cAExB,CAAE,MAAAE,CAAK,EAAKD,EAAgB,SAKlC,GADAJ,EAF4BK,EAAM,MAAM,KAAM,EAAC,YAAW,EAGtD,CAACL,EACH,OAGF,MAAMH,EAAYS,IAClBL,EAAO,KAAK,UAAYJ,EAExB,GAAI,CACFf,EAAO,EACP,MAAMyB,EAAW,MAAM3B,EAAUoB,EAASlB,EAAMC,CAAQ,EAExD,GAAI,CAACwB,EAAS,KAAK,KAAK,OAAQ,CAC9BC,EAAS,MAAM,CACb,MAAO,OACP,QACE,2EACF,aAAc,UACd,YAAa,KACb,kBAAmB,MACnB,gBAAiB,UACjB,SAAU,MACV,SAAU,WACV,iBAAkB,SAC1B,CAAO,EAEDP,EAAO,KAAK,UAAY,GACxB,MACD,CAED,MAAMQ,EAASC,EAA2BH,EAAS,KAAK,IAAI,EAC5DN,EAAO,KAAK,UAAYQ,CAC5B,MAAU,CACN,QAAQ,IAAI,KAAK,CACrB,QAAY,CACRL,EAAgB,MAAK,EACrBN,EAAS,QAAO,CACjB,CACH"}